{% extends 'filtertools/base.html' %}
{% load static %}
{% block content %}

<div class="uk-container" uk-filter="target: .js-filter">

  {% include 'filtertools/controls.html' %}

  <!---Tool Cards Grid-->
  <ul class="js-filter uk-child-width-1-2 uk-child-width-1-3@m uk-text-center" uk-grid="masonry: true">
    {% for tool in tool_list %}
      <li {% for category in tool.categories.all %} data-{{ category.option|lower }}="{{ category.option|lower }}" {% endfor %} data-price='{{ tool.price }}' data-ease='{{ tool.ease_of_use|lower }}'>

        <div class="uk-card uk-card-default uk-card-hover">
            <!--Card Header-->
          <div class="uk-card-header">
            <img src="{{ tool.logo.url }}" alt="{{ tool.title }}">
          </div>

          <!---Card Body-->
          <div class="uk-card-body">
            <p>You might use {{ tool.title }} if...</p>
            <p>{{ tool.use_case }}</p>
            <span>{% if tool.categories.all|length <= 1 %}Category: {% else %} Categories: {% endif %}</span>
              {% for category in tool.categories.all %}
                <span class="uk-badge">{{ category.verbose_name }}</span>
              {% empty %}
                <span class="uk-badge">Uncategorized</span>
              {% endfor %}
          </div>

          <!--Card Footer-->
          <div class="uk-card-footer">
            <button class="uk-button uk-button-default uk-margin-small-right" type="button" uk-toggle="target: #modal-{{ tool.slug }}">More Info</button>
          </div>
        </div>
      </li>

      <!--Tool Modal-->
      <div id="modal-{{ tool.slug }}" uk-modal >
        <div class="uk-modal-dialog uk-modal-body">
          <h2 class="uk-modal-title">{{ tool.title }}</h2>
          <p>{{ tool.description }}</p>
          <p class="uk-text-lead">Pricing Details</p>
          <p>Placeholder for pricing</p>
          <p class="uk-text-lead">Links</p>
          <ul>
            <li><a href="#">Website</a></li>
            <li><a href="#">Tool Page</a></li>
            <li><a href="#">Support Link</a></li>
          </ul>
          <p class="uk-text-lead">Screenshots</p>
          <!--Screenshots-->
          <div class="uk-position-relative uk-visible-toggle uk-light" tabindex="-1" uk-slider>
            <ul class="uk-slider-items uk-grid">
              {% for screenshot in tool.screenshot_set.all %}
                <li class="uk-width-3-4">
                  <div class="uk-panel" uk-lightbox>
                      <a href="{{ screenshot.image.url }}"><img src="{{ screenshot.image.url }}" alt=""></a>
                      <div class="uk-position-center uk-panel"></div>
                  </div>
              </li>
              {% endfor %}
          </ul>
          <a class="uk-position-center-left uk-position-small uk-hidden-hover" href="#" uk-slidenav-previous uk-slider-item="previous"></a>
          <a class="uk-position-center-right uk-position-small uk-hidden-hover" href="#" uk-slidenav-next uk-slider-item="next"></a>
          </div>
          <p class="uk-text-right">
              <button class="uk-button uk-button-default uk-modal-close" type="button">Close</button>
          </p>
        </div>
      </div>
      
    {% endfor %}
  </ul>

</div>
{% endblock %}